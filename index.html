<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Aydin Playground</title>
    <style>

     pre {
         background-color: #eee;
         border: #ccc 1px solid;
         display: block;
         padding: 10px;
     }

     .code {
         background-color: #ccc;
     }

     .sample {
         border: #cfc 1px solid;
         padding: 10px;
     }

     .padding {
         padding: 10px;
     }

     .font-weight-bold {
         font-weight: bold;
     }

     .text-color-red {
         color: #f00;
     }

    </style>
</head>
<body>
    <h1>Aydin Usage Samples</h1>

    <div id="root"></div>

    <script src="dist/aydin.js"></script>
    <script src="dist/aydin-dom.js"></script>
    <script src="dist/aydin-dom-server.js"></script>
    <script>

     const makeSample = function (title, data) {
         console.log("makeSample", title, data);
         makeSample.count += 1;

         const node = document.createElement("div");
         node.id = "sample" + makeSample.count;
         const code = Aydin.render(AydinDomServer, data);
         node.innerHTML = "<h2>" + title + "</h2>" +
            "<pre>" + JSON.stringify(data) + "</pre>" +
            "<div class='sample'>" + code + "</div>";

         const pre = document.createElement("pre");
         pre.innerText = code;
         node.appendChild(pre);

         document.body.appendChild(node);
     };
     makeSample.count = 0;

     makeSample("Simplest", "Hello, World!");
     makeSample("Simple but bold", ["b", "Hello, World again!"]);
     makeSample("Multi-node", [
         ["h3", "Node1"],
         ["h4", "Node2"],
     ]);

     makeSample("Using CSS", [
        ["div", { "class": "text-color-red" }, "Red Text"],
        ["div", { "class": { "text-color-red": true } }, "Red Text"],
        ["div", { className: "font-weight-bold" }, "Bold Text"],
        ["div", { classList: ["text-color-red", "font-weight-bold"] }, "Bold Red Text"],
     ]);
     makeSample("Using Emmet-like CSS classes and id", [
         ["div#some-id.text-color-red.font-weight-bold", "More Bold Red Text"],
     ]);
     makeSample("Using 'data-' props", ["i", { data: { id: "id", key: "key" } }, "id key"]);

     function team(props, children) {
         return [
             ["span", "Team Avatar"],
             ["ul"].concat(props.members.map(function (it) { return ["li", it]; })),
         ].concat(children);
     }

     makeSample("Using simple code templates",
        [team, { members: ["Aang", "Katara", "Soka"] }, "Iro", "Zuko"]
     );

     {
        const node = document.createElement("div");
        const expr =
            ["span",
                "Hello, real DOM!",
                ["div",
                    ["ol", ["li", "1st"], ["li", "2nd"]],
                    ["p", "With some text"]
                ]
            ];
        Aydin.render(AydinDom, expr, node);

        const pre = document.createElement("pre");
        pre.innerText = Aydin.render(AydinDomServer, expr);
        node.appendChild(pre);

        document.body.appendChild(node);
     }

    </script>
</body>
</html>
